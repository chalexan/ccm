{"version":3,"sources":["lib/constant.js","lib/apiReq.js","components/DevicesPage.jsx","components/InfoPage.jsx","components/MainPage.jsx","components/WorkPage.jsx","components/LayoutPage.jsx","App.js","index.js"],"names":["serverAPI","loginReq","data","console","log","constant","fetch","method","headers","body","JSON","stringify","response","ok","code","status","statusText","json","result","error","signinReq","jsonKarabi","require","jsonBabugan","jsonBahchisaraj","jsonDemerdji","jsonDolgorukovka","DevicesPage","useState","layer","setlayer","useGeolocated","positionOptions","enableHighAccuracy","userDecisionTimeout","coords","isGeolocationAvailable","isGeolocationEnabled","myGeo","setMyGeo","useEffect","latitude","longitude","EasyCaveIcon","L","icon","iconUrl","iconSize","iconAnchor","popupAnchor","myGeoIcon","SuperCaveIcon","CustomCaveIcon","className","style","padding","onChange","el","layerCode","target","value","Map","center","zoom","onclick","event","latlng","TileLayer","attribution","maxNativeZoom","maxZoom","subdomains","url","length","Marker","position","map","deep","convert","location","decimalLatitude","decimalLongitude","Popup","cave_name","alt_entrance","InfoPage","spinner","setSpinner","layout","labelCol","span","wrapperCol","borderRadius","boxShadow","borderStyle","borderColor","paddingRight","paddingLeft","paddingTop","backgroundColor","name","onFinish","emailjs","send","document","forms","elements","phone","introduction","then","Modal","success","title","content","text","err","validateMessages","required","types","number","range","Item","label","rules","TextArea","offset","SendOutlined","type","htmlType","MainPage","Meta","Card","width","extra","href","description","color","actions","HeartOutlined","EditOutlined","EllipsisOutlined","src","params","autoPlay","WorkPage","searchInput","dataIndex","caveDist","setCaveDist","Select","Option","cavesCount","setCavesCount","searchText","setSearchText","searchedColumn","setSearchedColumn","handleSearch","selectedKeys","confirm","handleReset","clearFilters","columns","filterDropdown","setSelectedKeys","ref","node","placeholder","e","onPressEnter","marginBottom","display","onClick","SearchOutlined","size","closeDropdown","filterIcon","filtered","undefined","onFilter","record","toString","toLowerCase","includes","onFilterDropdownVisibleChange","visible","setTimeout","select","render","highlightStyle","searchWords","autoEscape","textToHighlight","key","CaretDownOutlined","sorter","a","b","CaretRightOutlined","copy","message","distCode","dataSource","pagination","LayoutPage","Header","Layout","Content","Footer","page","setPage","open","setOpen","isRegister","setIsRegister","documentElement","scrollWidth","winWidth","setWinwidth","URL","avatarPreview","setAvatarPreview","username","password","avatar","userData","setUserData","sendLoginRequest","uploadFile","FormData","append","axios","post","res","image_path","catch","menuItem","getElementById","margin","height","fallback","id","theme","mode","defaultSelectedKeys","overflowedIndicator","MenuOutlined","HomeOutlined","ReconciliationOutlined","EnvironmentOutlined","MessageOutlined","onClose","paddingBottom","placement","hideRequiredMark","gutter","shape","rotate","onModalOk","customRequest","arp1","arp2","showUploadList","UploadOutlined","textAlign","App","ReactDOM","createRoot","StrictMode"],"mappings":"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","file":"static/js/main.d138b37f.chunk.js","sourcesContent":["export const serverAPI = 'http://localhost:8080';\n//export const serverAPI = \"http://158.160.19.224:8080\";","import * as constant from \"./constant\";\n\n// найти и выдать всех парнеров\n\nexport const getPartners = async () => {\n\n    const api = constant.serverAPI;\n\n    const response = await fetch(`${api}/partner`, {\n        method: \"GET\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n    });\n    if (!response.ok)\n        return { code: 1, data: `Ошибка: ${response.status} - ${response.statusText}` };\n\n    const result = await response.json();\n    console.log('Incoming /GET: ', result)\n    return { code: 3, data: result };\n\n}\n\n// удалить партнера\n\nexport const removePartnersById = async (idPartner) => {\n\n    const api = constant.serverAPI;\n\n    const response = await fetch(`${api}/partner`, {\n        method: \"DELETE\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ id: idPartner })\n    });\n\n    if (!response.ok)\n        return { code: 1, data: `Ошибка: ${response.status} - ${response.statusText}` };\n\n    const result = await response.json();\n    console.log('Incoming /DELETE: ', result)\n    return { code: 3, data: result };\n\n}\n\n// добавить нового партнера\n\nexport const savePartners = async (data) => {\n\n    const api = constant.serverAPI;\n\n    const response = await fetch(`${api}/partner`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(data)\n    });\n    if (!response.ok)\n        return { code: 1, data: `Ошибка: ${response.status} - ${response.statusText}` };\n\n    const result = await response.json();\n    console.log('Outcoming /POST: ', result)\n    return { code: 3, data: result };\n\n}\n\n// отредактировать нового партнера\n\nexport const modifyPartners = async (data) => {\n\n    const api = constant.serverAPI;\n\n    const response = await fetch(`${api}/partner`, {\n        method: \"PATCH\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(data)\n    });\n    if (!response.ok)\n        return { code: 1, data: `Ошибка: ${response.status} - ${response.statusText}` };\n\n    const result = await response.json();\n    console.log('Outcoming /PATCH: ', result)\n    return { code: 3, data: result };\n\n}\n\n// найти и выдать все устройства\n\nexport const getDevices = async () => {\n\n    const api = constant.serverAPI;\n\n    const response = await fetch(`${api}/devices`, {\n        method: \"GET\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n    });\n    if (!response.ok)\n        return { code: 1, data: `Ошибка: ${response.status} - ${response.statusText}` };\n\n    const result = await response.json();\n    console.log('Incoming /GET: ', result)\n    return { code: 3, data: result };\n\n}\n\n// отредактировать нового партнера\n\nexport const modifyDevices = async (data) => {\n\n    const api = constant.serverAPI;\n\n    const response = await fetch(`${api}/devices`, {\n        method: \"PATCH\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(data)\n    });\n    if (!response.ok)\n        return { code: 1, data: `Ошибка: ${response.status} - ${response.statusText}` };\n\n    const result = await response.json();\n    console.log('Outcoming /PATCH: ', result)\n    return { code: 3, data: result };\n\n}\n\n//удалить устройство по id\nexport const removeDeviceById = async (idDevice) => {\n\n\n    const api = constant.serverAPI;\n\n    const response = await fetch(`${api}/device`, {\n        method: \"DELETE\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ _id: idDevice })\n    });\n\n    if (!response.ok)\n        return { code: 1, data: `Ошибка: ${response.status} - ${response.statusText}` };\n\n    const result = await response.json();\n    console.log('Incoming /DELETE: ', result)\n    return { code: 3, data: result };\n\n}\n\n// залогиниться\n\nexport const loginReq = async (data) => {\n    console.log('input:', data)\n\n    const api = constant.serverAPI;\n\n    try {\n        const response = await fetch(`${api}/login`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(data)\n        });\n        if (!response.ok)\n            return { code: 1, data: `${response.status} - ${response.statusText}` };\n\n        const result = await response.json();\n        console.log('Outcoming /POST: ', result)\n        return { code: 3, data: result };\n    } catch (error) {\n        console.error('Ошибка fetch:', error);\n        return { code: 1, data: error }\n    };\n}\n\n// зарегистрироваться\n\nexport const signinReq = async (data) => {\n    console.log('input:', data)\n    const api = constant.serverAPI;\n\n    try {\n        const response = await fetch(`${api}/signin`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(data)\n        });\n        if (!response.ok)\n            return { code: 1, data: `${response.status} - ${response.statusText}` };\n\n        const result = await response.json();\n        console.log('Outcoming /POST: ', result)\n        return { code: 3, data: result };\n    } catch (error) {\n        console.error('Ошибка fetch:', error);\n        return { code: 1, data: error }\n    };\n}\n\n// проверка сервера\nexport const checkServer = async () => {\n    const api = constant.serverAPI;\n    try {\n        const response = await fetch(`${api}/status`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n        });\n        const result = await response.statusText;\n        console.log('Incoming status: ', result)\n        return true;\n    } catch (error) {\n        console.log(error);\n        return false;\n    }\n\n\n}","import { Map, TileLayer, Popup, Marker } from \"react-leaflet\";\nimport { latLngBounds } from \"leaflet\";\nimport { Space } from \"antd\";\nimport { useGeolocated } from \"react-geolocated\";\nimport {\n  CaretDownOutlined,\n  CaretRightOutlined,\n  SearchOutlined,\n} from \"@ant-design/icons\";\nimport \"./map.css\";\nimport \"leaflet/dist/leaflet.css\";\nimport convert from \"geo-coordinates-parser\";\nimport L from \"leaflet\";\nimport { Divider } from \"antd\";\nimport { useState, useEffect } from \"react\";\nimport Select from \"rc-select\";\nimport { concat } from \"geo-coordinates-parser/testformats\";\nvar jsonKarabi = require(\"../data/kadastr_karabi.json\");\nvar jsonBabugan = require(\"../data/kadastr_babugan.json\");\nvar jsonBahchisaraj = require(\"../data/kadastr_bahchisaraj.json\");\nvar jsonDemerdji = require(\"../data/kadastr_demerdji.json\");\nvar jsonDolgorukovka = require(\"../data/kadastr_dolgorukovskaya.json\");\nvar json = [\n  ...jsonBabugan,\n  ...jsonKarabi,\n  ...jsonBahchisaraj,\n  ...jsonDemerdji,\n  ...jsonDolgorukovka,\n];\nconst DevicesPage = () => {\n  const [layer, setlayer] = useState(\n    \"https://cdn.lima-labs.com/{z}/{x}/{y}.png?api=demo\"\n  );\n\n  const setLayerHandle = (layerCode) => {\n    if (layerCode === \"sattelite\") {\n      setlayer(\n        \"https://{s}.maptiles.arcgis.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\"\n      );\n    }\n    if (layerCode === \"osm\") {\n      setlayer(\"https://cdn.lima-labs.com/{z}/{x}/{y}.png?api=demo\");\n    }\n    return console.log(\"caveDistChange\");\n  };\n\n  const { coords, isGeolocationAvailable, isGeolocationEnabled } =\n    useGeolocated({\n      positionOptions: {\n        enableHighAccuracy: false,\n      },\n      userDecisionTimeout: 5000,\n    });\n  const [myGeo, setMyGeo] = useState([]);\n  const position = [44.873, 34.575];\n  // {lat: 45.20072775203464, lng: 34.092893600463874}\n  const defaultBounds = [\n    [44.745197, 33.367692],\n    [33.862273, 45.209966],\n  ];\n\n  useEffect(() => {\n    !isGeolocationAvailable\n      ? console.log(\"Your browser does not support Geolocation\")\n      : !isGeolocationEnabled\n      ? console.log(\"Geolocation is not enabled\")\n      : coords\n      ? setMyGeo([coords.latitude, coords.longitude])\n      : //console.log(\"latitude\", coords.latitude, \"longitude\", coords.longitude)\n        console.log(\"Getting the location data\");\n  }, [coords]);\n\n  const EasyCaveIcon = L.icon({\n    iconUrl:\n      \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAADv0lEQVRIia2VS2wbVRSG/7nz9Dzs8cw4dmPHsR0/0gRSKw/atJFSoaiPiKQCNUGIdsGiRUiAhMSSRVZVA6SquoI1G2RgQxGwKGLTNrhNUpAKizZSStUEImrH2DVJnHiGlV2cGYIjcXf33P8/3z3naO4Ae1gvfJAdHJv54dBePKRZ4akrt8a6Y74vO8O+q6cu3Rpr1sc0K3TzwtRwT8QAgN9y5SkAV5vxNVXB6HS2P9GmtYMCQAHJkDc6Op3t/98AqsK/2xX26bV9V7TFqyrCO814HVv04pWFAzJHnev4Pf02ADwSfkmLAls/F3kWIs/2TWQy9GeTk9U9AzSRuTzc5TuYKc99DQBH28PBnZpUWAvd+Cl6DMA3uwFsLZrIZGhNYoO9Md2lK9wZj8S9lQhq8k5dMmxIosS9uVtyR8Dmw8iR7jY1IAkMZI4845aEBMvQNiNLE3gkvnNsak7cDWBrkVdhz/ZEvAoABA2pjeNlCQDuP3qM1cdFWAACuhuJNgPdsZbQar70yvjlbNF8Ur351XuHl/+zAhfH9HplDgAw0KGpFkx2rbSOUrGMcyMxnB+JoVQqY620jojfwykif+HMUOyTcMj9/fFLN7VdAWMfzhmtXldLbR/1K8gVyli4t4LTg6G67vRgCAv3VlAobWB/q2IMxHX+tedj8RaXOLMrwEVb430xI1Db04SCaVYxlNTAs0/nwLM0hpIavs3ex7H0PgIAhlugdDd3eCKTaRhYwwxkmZtMtMoNsZcOBuFXXTsvhnTUi9XiBmrtBIC+qNa6OBs5CuA7ewWWRXlErp1lGsfilLy2jh/Y1wiNabIh86//M1bPdvLibDoVdPv+Ldl6pYq5xRzmF3PYqDh/vLLAQBHoZ2FZlA1gaOLZdETVnYwr+XV8fO0Bfs4R3M0RfHTtAVby646Qnqg3cGLmdv0hrANEjj7i1I6qaeHz7DJS8QgCuoqAriIVj+CL7DKqpmXT93foql/m3mgAjE9fV3yK4He60Z2lNaiaDkKezoYQAlXT8ePSmk2vShwknjzXAKB54URvXA3Y1ADmlwrweT22uOH1YH6p4GRBKqT6R6Zn99cBqsS+2tmq8k7iqklACGWLE0Khajn/Tg4lDSPoEc7XATLPxF2c/UHb2jZhEXu8tkwQbG2btniLR4CLY4cBgBm9kE2qEhv89Y+yTZh/sonNyjYKRfsZAGxuVXH34Z/QFM525pGY8MjF62Hq5Ps3Ovwe+WWnBFUTYmXbGqAohx4BsCzT4hjqNk3wl706YCVf+fRvcrb3/xXPOzcAAAAASUVORK5CYII=\",\n    iconSize: [24, 24],\n    iconAnchor: [12, 12],\n    popupAnchor: [0, 0],\n  });\n\n  const myGeoIcon = L.icon({\n    iconUrl:\n      \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAEw0lEQVRIia2VW2yTZRjHf+/39bRu7dp17VbY1g6BxW2AwDCDXQA6kSAhAQGjICAITGOEGxX1QjR6YTTEEOMBvUBQDCISCDGIGA5RAgMBF52UjdMO7diBHdr1sLbf60WXQWFTTHgu3/f//H/Pe3peuC2k318km5tfklKq3KcQaYBAwEki8SdQDywXhYWt9xUAIJub5wI/Ar0Isa7Q0vRLMmqcpwlpV4U87HdO8wHI+mtuVOU5EqatoswVumfAIOQjYMNxZYC1apcWRigF3RE6swzxkEn3YluXswchPgVyQa4UJZ4d/w/Q0GDs0cd9D2dEPLpIjN0fn6K0tZegScfZmrn91ba8TFpvQIYRLMoXorx83UgAZdjR8yuU/YF91qCQ1By5TGlrLwBWp4NqW14m0Rgkk5Bjg1hg/EjmALq0yreONWK1lidjiQ/35oy1A8zydaTmBGjTy1AkoCiQ7wQgGfpr2F0YfgXZ2TtQxNl3xy+adcb+AGUtvZS29qWEpV70pcWpTTXowaAnmYhzOH79IbljYua9ATTLypOx8q+3eauZebGd7z6rRUgJqoKYOeWu5Mhv55LbCiqtoH/zngCN702QvhPlj+uTko37fVjCccixoix9BOGyp2pIakN6cxTVG7BxwF2xSX41ZeF/ArotpsoH6zudxXU3oy9UTCT5xgrUl5cgSjwA1J+8wL5PviEWjgIgXHZeP3iRzeOWipYMx265s2LBvwIkol/R5Gd9LcqeYqnDpKamG87/zcEvd3Ol/hIV1TMwmk0pQJmXnN4IH3zbyLIpG/TNxpzv5c6pT9zuOdRz5IUtC0fPN9cVvPPWHveCZ13TbOb5j+VaAXC4nbi9hbjHFDLKWwBi8OKoKsKgMvp0A7p+hZo5C1VvuGPxrkfVg2/v97elr0ARkzHqRgGce37O56sLHHtvr8SSk02u23XLHEBKRL4DwzPVLKttZskhP2snrzdsmvD0oc1yswKDL1keXWUTs7f3DOX5/WaCiStA3nAHNxQ3e0FRwZZF389HSdQ2MW9RJU2Vdib1Xdt2aPzi9Yr8dfUoVO2YPLFq41DiH9cP47uWR6j/llkoDN2DPS0ag9Z2iMXBlgWAtWo62fEEy39vJrMxQl120Rq3/5xHIa7dRAgfUtQByGNnl9DTV0UoApeaYPDG0Nadglz1QzAMrhxw594qwGwCRZUzOrrJvBJFSkVFl1yuE7O3R4GnhoTByBYkMJCAQBc47FCUnzIuKQJPfqpV3BlJDbSk8MRiKHGJ2p8kYVEn3qWM9kQGAFAF5DsgGaex9hSvTHUQ8riGNwfoDgJgMOoBUOISEGqaunbSa2V1W454omcuIbs7wPITbcH3+WFMLmvaE2S19w5vDshAqilmeN2YVZVkhkCg+dK6qaZoT5qNqqpv60SaTyPsQWz6lbzaFE8JMqMjA250g05FrZpAVSTK5QwVqXEgDSAQbt3g0xNZVlCXYtKMaYqRQpk0DlnsRrjslAwEgejxG/lTT6cBEOJqPCHBoEeMngsY011MhhEBOG0Ipw0Ar9mYUJRIDdz54STkroiU9qDRPD071B8WpiY3gAQN0EQ4ZpZtAZ1QCWJIdKYBjLYuzVjYElA0m1koHf7ciosA/wCcUs3KqtmBiwAAAABJRU5ErkJggg==\",\n    iconSize: [24, 24],\n    iconAnchor: [12, 12],\n    popupAnchor: [0, 0],\n  });\n\n  const SuperCaveIcon = L.icon({\n    iconUrl:\n      \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAACEElEQVRIie2UTWsTURSGnzOZyUdjENJW2kqluNGF4EZFxGJJbcSqiNGAVAXRP6BLtUK3rvwJ3boprv0BglC3xha/cKERSdNG8z0f18U0cZxM7JR22bO773nPfc49987AXuxmVOd5VHvC/HZqJKxRLRCvW3wTMJom4+lnVMLUaWEBNZM8kFaQihvcDVv3X8DKzNDYanbwKIBo5Du6glu7AsCW58rWXqiHJFBkPJkTjQUO7Qiwmhk8iJADjhdLqQdA0pMWZXFtRwBH5CagA7R+R+735CEH8DGbHl+ZHn79ZWoivi0A8nfm7apxWNniS3O29phR09KfAmdaem0uNOD91MiEKDnVWSuFNNajKFuo/ew2qrUb+pyIuu2auBP+BJpzA9830liLsfE1SflTiuqPhKuV4veAxKZl8sPFkeFQAPGMpxPNjSj1ktt9teju2awYRzyWiNOyrm4JKFwYGgV10q87juBs3oPZjFBfi9Gu6RGvR4nktgRolswS4hey/nlfkJx5e2VswCvovR51OWj/N3WDpYo7ouv7m5weMIMAsWTDmgRedRv2Zt/liYJM+6uW6waL5QQVW6jYwmI5wXLdCAKgKWb+WXsXUj5wDkh5NUsJL3/FUN4zAkuVGJZX7OZUti9AQ13yFxRaOiWr97GVbY1CM2DCcMx9KAEAYNbv/m72v+9iABiQiKmd71u0F/74AxFnpcyCh3MZAAAAAElFTkSuQmCC\",\n    iconSize: [24, 24],\n    iconAnchor: [12, 12],\n    popupAnchor: [0, 0],\n  });\n\n  const CustomCaveIcon = L.icon({\n    iconUrl:\n      \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAADwUlEQVRIia2UzW8bRRjGn5nZnf3y7tq79tpO7MRJkzht1YRGhLaAkIoTI6sS/ZAqVAlRofaAOCC4AGlAsrhw4xDUphHlBBIS/0BEgQMHRM+NokTqR5paQZXiJCQ0mNiOh0NpEsfbQKLMbd55nvnNs/PuALsYN/KvOdc+PhXajYf+X+H1ocwhAjGtKJXpsaFs974DJC6N9XUEw0c7bY8puLGvgKvD2aQik7QdkEkwwKFItOvqcDa5bwDOcKnV0za+faunhTipXdoz4OsPXzJHhwfPCoAAAKW4GHVV6el6zNUkyujFPQNoIPiZFdC+G/0ke/ralUyPqUqGzDalEiMwNcn48tOBI3sCAOL1F57rVHTO31S59E4ypoW3K1qiWlin5N1dA766komqKg/EvRAEqb0oBM5GLIUAQKVaQ6VaAwBEgiqBIGfy+fyO9yhtLwjQXFsiahJCEDINrVJeJZQS/L6whrmFMgAg4XDEwwpcmytr87+9Ojo8aMoy/eVy/ofF/0zANeVCc8zRAKA1EbF1VbZLazUUimXkTvYjd7IfDxfKKK3VkPD0kKbTb7va4t9Qym59nz/PdwQ8iSt6HdsAADTHXFIqC0wVVnHsaBcYo2CM4lhfGlOFVTACBK1A5Hhf2uhub/KWqssNrVsHiFV+7Qs7FgMhAABDV1EuC9imhWh48wmKukHYlomJmT/RczBFASB9IGFzLr2/I4DL7FwqEXa31jra4ni+t3O7D/29XZAVBdGwDQBQFRmGpoTGPhpoeSaAMnamKeqSrbXD6VZw3tALkGUJgy/3gJBN+YFUPCjp0hu+gJF8zpJlyVW43LDZs4amKnXzVHNEZpS+tbW2cTReXc8mm8K630Y1IfDzzQlMT84BALoPNyOTPQJK6sJCVTk4597IUC7y3ufj83UJdE2+0BJ3A36Am+O3UbhXRDLiIBlxULhbxI/jt31TtSc9S2HVc0/nG4D1mjjhOlaDYWWlhPt3HsE1DRA8ef0cy8C9O4+wslJq0KeSUVVV+Nt1gOtDmUMhO8C2RwaAyYkCdF7//xAAuswxOVFo0JuGCspo+0g+Z20AJFU+nUp4jl/k2Zl5GNsuEwAMVcHsTNHPglTC03mlemoTQOn5Ji/U2IsAlhZXwSXWUJdlhqXFx76AtqRnaKpyGQDIFx+c0AzDLCabw3/5iW/9dNe1A5oQEBDrgggCQQkhhBCx/LhEjg90LPj5Hs4V9fIycyQAWK/ilQez/nEVSzr4NyoAAMFqgtSIACH03zU8mC1O+RoBVKU/6D9GsOoJhFP+cgAAAABJRU5ErkJggg==\",\n    iconSize: [24, 24],\n    iconAnchor: [12, 12],\n    popupAnchor: [0, 0],\n  });\n\n  return (\n    <div>\n      <div className=\"alphaback\" style={{ padding: \"0 15px\" }}>\n        <span>\n          <Space>\n            Cлой карты:\n            <select onChange={(el) => setLayerHandle(el.target.value)}>\n              <option key={0} value=\"osm\">\n                OpenStreetMap\n              </option>\n              <option key={1} value=\"sattelite\">\n                Cпутник\n              </option>\n            </select>\n          </Space>\n        </span>\n      </div>\n      <Map\n        className=\"simpleMap\"\n        center={position}\n        zoom={9}\n        key={0}\n        onclick={(event) => console.log(event.latlng)}\n      >\n        {console.log()}\n        <TileLayer\n          attribution={\"FollowMyTrack \" + myGeo[0] + \" \" + myGeo[1]}\n          className=\"basemap\"\n          maxNativeZoom={19}\n          maxZoom={19}\n          subdomains={[\"clarity\"]}\n          url={layer}\n        />\n\n        {myGeo.length > 0 && <Marker icon={myGeoIcon} position={myGeo} />}\n\n        {json.map((el) => (\n          <Marker\n            icon={\n              el.deep < 25\n                ? EasyCaveIcon\n                : el.deep > 90\n                ? SuperCaveIcon\n                : CustomCaveIcon\n            }\n            position={[\n              convert(el.location).decimalLatitude,\n              convert(el.location).decimalLongitude,\n            ]}\n          >\n            <Popup>\n              <b>Пещера {el.cave_name} </b>\n              <br />\n              Амплитуда: {el.deep}\n              <br />\n              Протяженность: {el.length}\n              <br />\n              Высота входа: {el.alt_entrance ? el.alt_entrance : \"?\"}\n              <br />\n              Координаты: {el.location}\n            </Popup>\n          </Marker>\n        ))}\n      </Map>\n    </div>\n  );\n};\n\nexport default DevicesPage;\n","import emailjs from \"@emailjs/browser\";\nimport { useState } from \"react\";\nimport { Spin, Result, Modal } from \"antd\";\nimport { SendOutlined } from \"@ant-design/icons\";\nimport { Form, Input, Button } from \"antd\";\n\nconst InfoPage = () => {\n  const [spinner, setSpinner] = useState(false);\n  const layout = {\n    labelCol: {\n      span: 8,\n    },\n    wrapperCol: {\n      span: 16,\n    },\n  };\n  /* eslint-disable no-template-curly-in-string */\n\n  const validateMessages = {\n    required: \"${label} обязательно!\",\n    types: {\n      phone: \"${label} is not a valid phone!\",\n      number: \"${label} is not a valid number!\",\n    },\n    number: {\n      range: \"${label} must be between ${min} and ${max}\",\n    },\n  };\n  /* eslint-enable no-template-curly-in-string */\n\n  const sendFeedBack = () => {\n    setSpinner(true);\n    const serviceID = \"service_wapugkm\";\n    const templateID = \"template_s1flepn\";\n    const publicKey = \"74GkyqpsD4UW_iygm\";\n\n    emailjs\n      .send(\n        serviceID,\n        templateID,\n        {\n          name: document.forms[0].elements[0].value,\n          phone: document.forms[0].elements[1].value,\n          introduction: document.forms[0].elements[2].value,\n        },\n        publicKey\n      )\n      .then(\n        (response) => {\n          setSpinner(false);\n\n          <Result\n            status=\"success\"\n            title=\"Cообщение успешно отправлено!\"\n            subTitle=\"Вскоре с вами свяжется наш специалист\"\n          />;\n\n          Modal.success({\n            title: \"Cообщение успешно отправлено!\",\n            content: \"Вскоре с вами свяжется наш специалист\",\n          });\n\n          console.log(\"SUCCESS!\", response.status, response.text);\n        },\n        (err) => {\n          setSpinner(false);\n\n          <Result\n            status=\"error\"\n            title=\"Что-то пошло не так!\"\n            subTitle=\"Отправка сообщения не удалась :(\"\n          />;\n\n          Modal.error({\n            title: \"Что-то пошло не так.\",\n            content: \"Отправка сообщения не удалась :(\",\n          });\n\n          console.log(\"FAILED...\", err);\n        }\n      );\n  };\n\n  return (\n    <>\n      {spinner ? (\n        <>\n          <Spin /> <span> </span> Отправка сообщения ...{\" \"}\n        </>\n      ) : (\n        <Form\n          {...layout}\n          style={{\n            borderRadius: \"5px\",\n            boxShadow: \"2px 2px 8px 2px #888888\",\n            borderStyle: \"solid\",\n            borderColor: \"black\",\n            paddingRight: \"15px\",\n            paddingLeft: \"10px\",\n            paddingTop: \"25px\",\n            backgroundColor: \"#f0f8fc\",\n          }}\n          name=\"nest-messages\"\n          onFinish={sendFeedBack}\n          validateMessages={validateMessages}\n        >\n          <b>\n            <Form.Item\n              name={[\"user\", \"name\"]}\n              label=\"Имя\"\n              rules={[\n                {\n                  required: true,\n                },\n              ]}\n            >\n              <Input />\n            </Form.Item>\n          </b>\n          <b>\n            <Form.Item\n              name={[\"user\", \"phone\"]}\n              label=\"Контактный телефон\"\n              rules={[\n                {\n                  required: true,\n                },\n              ]}\n            >\n              <Input />\n            </Form.Item>\n          </b>\n\n          <Form.Item name={[\"user\", \"introduction\"]} label=\"Сообщение\">\n            <Input.TextArea />\n          </Form.Item>\n          <Form.Item wrapperCol={{ ...layout.wrapperCol, offset: 8 }}>\n            <Button icon={<SendOutlined />} type=\"primary\" htmlType=\"submit\">\n              Отправить\n            </Button>\n          </Form.Item>\n        </Form>\n      )}\n    </>\n  );\n};\n\nexport default InfoPage;\n","import { PageHeader, Card, Avatar } from \"antd\";\nimport VideoContentYT from \"react-video-content-youtube\";\nimport { Tag } from \"antd\";\nimport {\n  HeartOutlined,\n  EditOutlined,\n  EllipsisOutlined,\n} from \"@ant-design/icons\";\nimport { useEffect } from \"react\";\n\nconst MainPage = () => {\n  const { Meta } = Card;\n\n  return (\n    <div className=\"alphaback\">\n      <PageHeader\n        className=\"site-page-header\"\n        style={{ width: \"100%\" }}\n        extra={<a href=\"#\">Добавить пост</a>}\n        title=\"Публикации\"\n      />\n\n      <Card\n        title={\n          <>\n            <Meta\n              // avatar={\n              //   <Avatar\n              //     //src=\"https://sun1-20.userapi.com/s/v1/ig2/idc5JnQDh8ic7hoQb1rsqNFA6mve0sJV2lI6yd5mEwPjblR-hOaO40fh0ik1Rkaympjx24LQvCWtH6UG5NvK8h7Z.jpg\"\n              //     alt=\"Дарья Мокрушина\"\n              //     style={{ backgroundColor: \"green\", verticalAlign: \"middle\" }}\n              //     size=\"large\"\n              //   >\n              //     Д\n              //   </Avatar>\n              // }\n              title=\"Пещера Ход Конём - спортивное прохождение\"\n              style={{\n                \"font-size\": \"small\",\n              }}\n              description={\n                <>\n                  <Tag color=\"red\">Пещеры</Tag> 14 фев. 2023 г. 9:23\n                  {/* {new Date().toLocaleString(\"ru\", {\n                    year: \"numeric\",\n                    month: \"short\",\n                    day: \"numeric\",\n                    timezone: \"UTC\",\n                    hour: \"numeric\",\n                    minute: \"numeric\",\n                  })} */}\n                </>\n              }\n            />\n          </>\n        }\n        extra={<a href=\"#\">...</a>}\n        style={{\n          width: \"100%\",\n        }}\n        actions={[\n          <HeartOutlined key=\"like\" />,\n          <EditOutlined key=\"edit\" />,\n          <EllipsisOutlined key=\"ellipsis\" />,\n        ]}\n      >\n        🎯Верëвка - 300м.\n        <br /> 🎯Крепëж - около 25-30 комплектов\n        <br /> 🎯11 часов времени.\n        <br />\n        <br /> 📌Особенность навески\n        <br /> Во входном колодце очень большие пролëты(по 20-30 метров) Крепëж\n        хороший только в определëнных местах, в остальном очень много ржавого и\n        непригодного. Ошибкой было то, что на начало взяли куски 60+40 метров.\n        Узлы в колодце совсем проходить не хотелось, поэтому концы соединяли на\n        перестëжках. В итоге пройдя только 2/3 колодца первая сотка уже\n        закончилась... <br />\n        <br />\n        📌Ожидания/реальность\n        <br /> Как и в случае с #Кошина200, представления о пещере #Ходконëм\n        были такие, что абсолютно ничего кроме сплошного вертикального чебурека,\n        страданий и шкуродëрства там увидеть нельзя. В итоге нервы удалось\n        потрепать всего у одной узости, и то не надолго. Много где мешала каска.\n        В последней узости, где надо перевалиться направо и вниз за гладкий\n        камень с ручьями, каску Нужно Было Снять! чего я не сделала, и меня\n        хорошечно ей придушило😃 Когда тело с руками провалилось вниз,\n        отстегнуть каску уже никак не получалось, Сашка спас, я полезла дальше\n        до конца верëвки. Интересно, что после этого как-будто второе дыхание\n        открылось... Вобщем пещера интересная и довольно спортивная, однако\n        страх оборванной верëвки в большом колодце, и страх потерять сознание в\n        меандре пока всë ещë присутствует.\n        <br />\n        <br />\n        <div>\n          <VideoContentYT src=\"IMlGadlnMPQ\" params={{ autoPlay: true }} />\n        </div>\n      </Card>\n      <br />\n      <Card\n        title={\n          <>\n            <Meta\n              // avatar={\n              //   <Avatar\n              //     //src=\"https://sun1-20.userapi.com/s/v1/ig2/idc5JnQDh8ic7hoQb1rsqNFA6mve0sJV2lI6yd5mEwPjblR-hOaO40fh0ik1Rkaympjx24LQvCWtH6UG5NvK8h7Z.jpg\"\n              //     alt=\"Дарья Мокрушина\"\n              //     style={{ backgroundColor: \"green\", verticalAlign: \"middle\" }}\n              //     size=\"large\"\n              //   >\n              //     Д\n              //   </Avatar>\n              // }\n              title=\"Пещера Кошина - спортивное прохождение\"\n              style={{\n                \"font-size\": \"small\",\n              }}\n              description={\n                <>\n                  <Tag color=\"red\">Пещеры</Tag> 6 окт. 2022 г. 17:00\n                  {/* {new Date().toLocaleString(\"ru\", {\n                    year: \"numeric\",\n                    month: \"short\",\n                    day: \"numeric\",\n                    timezone: \"UTC\",\n                    hour: \"numeric\",\n                    minute: \"numeric\",\n                  })} */}\n                </>\n              }\n            />\n          </>\n        }\n        extra={<a href=\"#\">...</a>}\n        style={{\n          width: \"100%\",\n        }}\n        actions={[\n          <HeartOutlined key=\"like\" />,\n          <EditOutlined key=\"edit\" />,\n          <EllipsisOutlined key=\"ellipsis\" />,\n        ]}\n      >\n        Полтора года назад, увидев схему пещеры, я очень захотела туда сходить.\n        Было пару разведок. Но опыта и снаряжения было недостаточно. И вот\n        наконец мы это сделали. Я увидела этого чувака вживую😃\n        <br />И предположения о категоричной сложности этой пещеры были\n        развеяны.\n        <br />\n        <br />\n        <div>\n          <VideoContentYT src=\"vvDGGouBDlw\" params={{ autoPlay: true }} />\n        </div>\n      </Card>\n\n      <p style={{ padding: \"0 15px\" }}>\n        Данный ресурс является проектом cообщества FollowMyTrack\n      </p>\n      <p style={{ padding: \"0 15px\" }}>\n        Мы - исследователи пещер, путешественники и увлеченные люди. Мы собрали\n        в едином каталоге данные по подземным полостям горного Крыма. Тут можно\n        найти координаты пещер и посмотреть их на карте. По нашему кадастру\n        можно производить поиск и фильтрацию пещер по заданным критериям.\n      </p>\n      <p style={{ padding: \"0 15px\" }}>\n        Мы пополняем данные находя новые пещеры и новые ходы существующих пещер\n        Приглашаем к участию в наших проектах. Связаться с нами можно в форме\n        обратной связи или в сообществе{\" \"}\n        <a href=\"http://vk.com/followmytrack\">FollowMyTrack </a> в VK.\n      </p>\n    </div>\n  );\n};\n\nexport default MainPage;\n","import { Table, message, Input, Space, Button } from \"antd\";\nimport { useEffect, useState } from \"react\";\nimport Highlighter from \"react-highlight-words\";\nimport copy from \"copy-to-clipboard\";\nimport {\n  CaretDownOutlined,\n  CaretRightOutlined,\n  SearchOutlined,\n} from \"@ant-design/icons\";\nimport Select from \"rc-select\";\nvar jsonKarabi = require(\"../data/kadastr_karabi.json\");\nvar jsonBabugan = require(\"../data/kadastr_babugan.json\");\nvar jsonBahchisaraj = require(\"../data/kadastr_bahchisaraj.json\");\nvar jsonDemerdji = require(\"../data/kadastr_demerdji.json\");\nvar jsonDolgorukovka = require(\"../data/kadastr_dolgorukovskaya.json\");\nvar md5 = require(\"md5\");\n\nconst WorkPage = () => {\n  const [caveDist, setCaveDist] = useState(jsonKarabi);\n  const { Option } = Select;\n  // Cчетчик пещер\n  const [cavesCount, setCavesCount] = useState(0);\n\n  // Поиск по колонке\n  const [searchText, setSearchText] = useState(\"\");\n  const [searchedColumn, setSearchedColumn] = useState(\"\");\n  let searchInput;\n\n  const getColumnSearchProps = (dataIndex) => ({\n    filterDropdown: ({\n      setSelectedKeys,\n      selectedKeys,\n      confirm,\n      clearFilters,\n    }) => (\n      <div style={{ padding: 8 }}>\n        <Input\n          ref={(node) => {\n            searchInput = node;\n          }}\n          placeholder={`Введите запрос`}\n          value={selectedKeys[0]}\n          onChange={(e) =>\n            setSelectedKeys(e.target.value ? [e.target.value] : [])\n          }\n          onPressEnter={() => handleSearch(selectedKeys, confirm, dataIndex)}\n          style={{ marginBottom: 8, display: \"block\" }}\n        />\n        <Space>\n          <Button\n            type=\"primary\"\n            onClick={() => handleSearch(selectedKeys, confirm, dataIndex)}\n            icon={<SearchOutlined />}\n            size=\"small\"\n            style={{ width: 90 }}\n          >\n            Поиск\n          </Button>\n          <Button\n            onClick={() => {\n              handleReset(clearFilters);\n              handleSearch(selectedKeys, confirm, dataIndex);\n              handleReset(clearFilters);\n            }}\n            size=\"small\"\n            style={{ width: 90 }}\n          >\n            Сброс\n          </Button>\n          <Button\n            type=\"link\"\n            size=\"small\"\n            onClick={() => {\n              confirm({ closeDropdown: false });\n              setSearchText(selectedKeys[0]);\n              setSearchedColumn(dataIndex);\n            }}\n          >\n            -\n          </Button>\n        </Space>\n      </div>\n    ),\n    filterIcon: (filtered) => (\n      <SearchOutlined style={{ color: filtered ? \"#1890ff\" : undefined }} />\n    ),\n    onFilter: (value, record) =>\n      record[dataIndex]\n        ? record[dataIndex]\n            .toString()\n            .toLowerCase()\n            .includes(value.toLowerCase())\n        : \"\",\n    onFilterDropdownVisibleChange: (visible) => {\n      if (visible) {\n        setTimeout(() => searchInput.select(), 100);\n      }\n    },\n    render: (text) =>\n      searchedColumn === dataIndex ? (\n        <Highlighter\n          highlightStyle={{ backgroundColor: \"#ffc069\", padding: 0 }}\n          searchWords={[searchText]}\n          autoEscape\n          textToHighlight={text ? text.toString() : \"\"}\n        />\n      ) : (\n        text\n      ),\n  });\n\n  const handleSearch = (selectedKeys, confirm, dataIndex) => {\n    confirm();\n\n    setSearchText(selectedKeys[0]);\n    setSearchedColumn(dataIndex);\n  };\n\n  const handleReset = (clearFilters) => {\n    clearFilters();\n    setSearchText(\"\");\n  };\n\n  // Конец поиска по колонке\n\n  const columns = [\n    {\n      title: \"Название\",\n      dataIndex: \"cave_name\",\n      ...getColumnSearchProps(\"cave_name\"),\n      key: \"name\",\n    },\n    {\n      title: (\n        <font color=\"red\">\n          <CaretDownOutlined />\n        </font>\n      ),\n      dataIndex: \"deep\",\n      key: \"deep\",\n      sorter: (a, b) => a.deep - b.deep,\n    },\n    {\n      title: (\n        <font color=\"green\">\n          <CaretRightOutlined />\n        </font>\n      ),\n      dataIndex: \"length\",\n      key: \"length\",\n      sorter: (a, b) => a.length - b.length,\n    },\n\n    {\n      title: \"Координаты\",\n      key: \"location\",\n      render: (record) => (\n        <a\n          onClick={() => {\n            copy(record.location);\n            message.success(\"Координаты скопированы\");\n          }}\n        >\n          {record.location}\n          {/* {verifyAccess() ? record.location : \"Доступ закрыт\"} */}\n        </a>\n      ),\n      // fixed: \"right\",\n    },\n  ];\n\n  useEffect(() => {\n    setCaveDist(jsonKarabi);\n    setCavesCount(jsonKarabi.length);\n    console.log(\"caves_count: \", cavesCount);\n  }, []);\n\n  const setDistHandle = (distCode) => {\n    console.log(\"inout cide:\", distCode);\n    if (distCode === \"karabi\") {\n      setCaveDist(jsonKarabi);\n      setCavesCount(jsonKarabi.length);\n    }\n    if (distCode === \"babugan\") {\n      setCaveDist(jsonBabugan);\n      setCavesCount(jsonBabugan.length);\n    }\n    if (distCode === \"bahchi\") {\n      setCaveDist(jsonBahchisaraj);\n      setCavesCount(jsonBahchisaraj.length);\n    }\n    if (distCode === \"demerdji\") {\n      setCaveDist(jsonDemerdji);\n      setCavesCount(jsonDemerdji.length);\n    }\n    if (distCode === \"dolgaya\") {\n      setCaveDist(jsonDolgorukovka);\n      setCavesCount(jsonDolgorukovka.length);\n    }\n    return console.log(\"caveDistChange\");\n  };\n\n  const verifyAccess = () => {\n    if (\n      localStorage.getItem(\"pass\") === \"b934c427ec6c9fd7dec550de32855437\" ||\n      md5(new Date().toLocaleString)\n    )\n      return true;\n    return false;\n  };\n\n  return (\n    <div>\n      <div className=\"alphaback\" style={{ padding: \"0 15px\" }}>\n        <span>\n          <Space>\n            Cпелеорайон:\n            <select onChange={(el) => setDistHandle(el.target.value)}>\n              <option key={0} value=\"karabi\">\n                Карабийский\n              </option>\n              <option key={1} value=\"babugan\">\n                Бабуганский\n              </option>\n              <option key={2} value=\"bahchi\">\n                Бахчисарайский\n              </option>\n              <option key={3} value=\"demerdji\">\n                Демерджинский\n              </option>\n              <option key={4} value=\"dolgaya\">\n                Долгоруковский\n              </option>\n            </select>\n          </Space>\n        </span>\n      </div>\n      <div className=\"alphaback\" style={{ padding: \"0 15px\" }}>\n        <i>Всего пещер в каталоге: </i>{\" \"}\n        <span>\n          {\" \"}\n          <i>\n            <b>{cavesCount}</b>\n          </i>\n        </span>{\" \"}\n      </div>\n      <Table\n        dataSource={caveDist}\n        columns={columns}\n        pagination={{ position: [\"none\", \"bottomCenter\"] }}\n      ></Table>\n    </div>\n  );\n};\n\nexport default WorkPage;\n","import * as constant from \"../lib/constant\";\nimport { loginReq, signinReq } from \"../lib/apiReq\";\nimport { Space, message, Avatar } from \"antd\";\nimport { Upload } from \"antd\";\nimport ImgCrop from \"antd-img-crop\";\nimport {\n  Layout,\n  Menu,\n  Breadcrumb,\n  Drawer,\n  Form,\n  Row,\n  Col,\n  Button,\n  Input,\n} from \"antd\";\nimport { useState } from \"react\";\nimport DevicesPage from \"./DevicesPage\";\nimport InfoPage from \"./InfoPage\";\nimport MainPage from \"./MainPage\";\nimport WorkPage from \"./WorkPage\";\n\nimport {\n  MessageOutlined,\n  HomeOutlined,\n  ReconciliationOutlined,\n  EnvironmentOutlined,\n  MenuOutlined,\n  UploadOutlined,\n} from \"@ant-design/icons\";\n\nimport { useEffect } from \"react\";\n\nimport axios from \"axios\";\n\nconst LayoutPage = () => {\n  const { Header, Content, Footer } = Layout;\n  const [page, setPage] = useState(\"main\");\n  const [open, setOpen] = useState(false);\n  const [isRegister, setIsRegister] = useState(false);\n\n  const showDrawer = () => {\n    setOpen(true);\n  };\n  const onClose = () => {\n    setOpen(false);\n  };\n\n  const [winWidth, setWinwidth] = useState(\n    document.documentElement.scrollWidth\n  );\n\n  const URL = constant.serverAPI;\n\n  const [avatarPreview, setAvatarPreview] = useState(\"\");\n  const [userData, setUserData] = useState({\n    username: \"\",\n    password: \"\",\n    avatar: \"\",\n  });\n\n  const sendLoginRequest = async (data) => {\n    if (isRegister) {\n      const result = await signinReq(userData);\n      console.log(result);\n    }\n\n    if (!isRegister) {\n      const result = await loginReq(userData);\n      console.log(result);\n    }\n  };\n\n  // Upload avatar-photo function\n  const uploadFile = (e) => {\n    if (true) {\n      //console.log(\"file values\", e);\n      const data = new FormData();\n      data.append(\"image-file\", e);\n      axios\n        .post(URL + \"/upload\", data, {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        })\n        .then((res) => {\n          setAvatarPreview(`${URL}/uploads/${res.data.image_path}`);\n          setUserData((userData) => ({\n            ...userData,\n            avatar: `${URL}/uploads/${res.data.image_path}`,\n          }));\n          console.log(\n            \"path_avatar: \",\n            `${URL}\"/uploads/\"${res.data.image_path}`\n          );\n        })\n        .catch((err) => {\n          message.error(err);\n        });\n    }\n  };\n\n  const dummyRequest = (arp1, arp2) => {\n    console.log(\"Dummy Rq\");\n  };\n\n  useEffect(() => {\n    setWinwidth(document.documentElement.scrollWidth);\n    const menuItem = document.getElementById(\"menu1\");\n    winWidth > 300\n      ? (menuItem.style.width = `${winWidth - 75}px`)\n      : (menuItem.style.width = \"150px\");\n    console.log(winWidth);\n  }, []);\n\n  return (\n    <>\n      <Layout className=\"layout\">\n        <Header style={{ padding: \"0px 15px\" }}>\n          <Space>\n            <div className=\"logo\" style={{ margin: \"8px 24px 8px 20px;\" }}>\n              <a href onClick={showDrawer}>\n                <img\n                  width={50}\n                  height={50}\n                  src=\"./followmytracklogo.png\"\n                  fallback=\"data:image/png;base64,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\"\n                />\n              </a>\n            </div>\n            <span> </span>\n            <div>\n              <Menu\n                id=\"menu1\"\n                theme=\"dark\"\n                mode=\"horizontal\"\n                style={{ padding: 0 }}\n                defaultSelectedKeys={[\"-1\"]}\n                overflowedIndicator={<MenuOutlined />}\n              >\n                <Menu.Item\n                  key={-1}\n                  title=\"Главная\"\n                  style={{ padding: \"0 5px\" }}\n                  icon={<HomeOutlined />}\n                  onClick={() => {\n                    setPage(\"main\");\n                  }}\n                >\n                  <b>Главная</b>\n                </Menu.Item>\n\n                <Menu.Item\n                  style={{ padding: \"0 5px\" }}\n                  key=\"SubMenu\"\n                  title=\"Каталог пещер\"\n                  onClick={() => {\n                    setPage(\"work\");\n                  }}\n                  icon={<ReconciliationOutlined />}\n                >\n                  <b>Каталог пещер</b>\n                </Menu.Item>\n                <Menu.Item\n                  key={1}\n                  style={{ padding: \"0 10px\" }}\n                  icon={<EnvironmentOutlined />}\n                >\n                  <a\n                    onClick={() => {\n                      setPage(\"devices\");\n                    }}\n                  >\n                    <b>Карта</b>\n                  </a>\n                </Menu.Item>\n\n                <Menu.Item\n                  key={3}\n                  style={{ padding: \"0 10px\" }}\n                  icon={<MessageOutlined />}\n                >\n                  <a\n                    onClick={() => {\n                      setPage(\"info\");\n                    }}\n                  >\n                    <b>Обратная связь</b>\n                  </a>\n                </Menu.Item>\n              </Menu>\n            </div>\n          </Space>\n        </Header>\n\n        {/* Всплывающий блок для логина/регистрации */}\n        <Drawer\n          title={\n            <>\n              <img width={30} height={30} src=\"./followmytracklogo.png\" />\n              <span> | </span>\n              Авторизация\n              <br />\n              <font size=\"small\">\n                {isRegister ? (\n                  <a onClick={() => setIsRegister(false)}>Хочу войти</a>\n                ) : (\n                  <a onClick={() => setIsRegister(true)}>Пройти регистрацию</a>\n                )}\n              </font>\n            </>\n          }\n          onClose={onClose}\n          open={open}\n          style={{\n            paddingBottom: 40,\n          }}\n          visible={open}\n          placement=\"left\"\n          extra={\n            <Space>\n              {isRegister ? (\n                <Button onClick={sendLoginRequest} type=\"primary\">\n                  Регистрация\n                </Button>\n              ) : (\n                <Button onClick={sendLoginRequest} type=\"primary\">\n                  Вход\n                </Button>\n              )}\n            </Space>\n          }\n        >\n          <Form layout=\"vertical\" hideRequiredMark>\n            <Row gutter={16}>\n              <Col span={16}>\n                <Form.Item\n                  name=\"login\"\n                  label=\"Имя(никнейм)\"\n                  rules={[\n                    {\n                      required: true,\n                      message: \"Введите имя пожалуйста\",\n                    },\n                  ]}\n                >\n                  <Input\n                    onChange={(e) => {\n                      setUserData((userData) => ({\n                        ...userData,\n                        username: e.target.value,\n                      }));\n                    }}\n                    placeholder=\"Введите имя пожалуйста\"\n                  />\n                </Form.Item>\n              </Col>\n            </Row>\n            <Row gutter={16}>\n              <Col span={16}>\n                <Form.Item\n                  name=\"password\"\n                  label=\"Пароль\"\n                  rules={[\n                    {\n                      required: true,\n                      message: \"Введите пароль пожалуйста\",\n                    },\n                  ]}\n                >\n                  <Input\n                    type=\"password\"\n                    onChange={(e) => {\n                      setUserData((userData) => ({\n                        ...userData,\n                        password: e.target.value,\n                      }));\n                    }}\n                    placeholder=\"Ваш секретный пароль\"\n                  />\n                </Form.Item>\n              </Col>\n            </Row>\n          </Form>\n          {isRegister ? (\n            <Form name=\"file-upload-form\" onFinish={uploadFile}>\n              <Form.Item label=\"Аватар:\" name=\"imageFile\">\n                <ImgCrop shape=\"round\" rotate onModalOk={uploadFile}>\n                  <Upload\n                    name=\"avatar\"\n                    customRequest={dummyRequest}\n                    className=\"avatar-uploader\"\n                    showUploadList={false}\n                  >\n                    {avatarPreview && (\n                      <Avatar size=\"large\" src={avatarPreview} />\n                    )}\n                    <span> | </span>\n                    <Button size=\"large\" icon={<UploadOutlined />}></Button>\n                  </Upload>\n                </ImgCrop>\n              </Form.Item>\n            </Form>\n          ) : null}\n          <br />\n        </Drawer>\n        <Content\n          className=\"backpic\"\n          style={{\n            paddingLeft: \"3%\",\n            paddingRight: \"3%\",\n          }}\n        >\n          <Breadcrumb style={{ \"font-size\": \"large\" }}>\n            <Breadcrumb.Item>\n              <div style={{ padding: \"0 15px\" }}>\n                <b>\n                  {\" \"}\n                  <font color=\"white\">Кадастр пещер Крыма</font>\n                </b>\n              </div>\n            </Breadcrumb.Item>\n          </Breadcrumb>\n          <div key={page} className=\"site-layout-content\">\n            {page === \"main\" ? <MainPage /> : null}\n            {page === \"work\" ? <WorkPage /> : null}\n            {page === \"devices\" ? <DevicesPage /> : null}\n            {page === \"info\" ? <InfoPage /> : null}\n          </div>\n        </Content>\n        <Footer style={{ textAlign: \"center\" }}>\n          💚 Crimea Caves Map ©2022 Created by{\" \"}\n          <img src=\"./fmt.png\" width={\"15pt\"} /> <span> </span>\n          FollowMyTrack group\n        </Footer>\n      </Layout>\n    </>\n  );\n};\n\nexport default LayoutPage;\n","import './App.css';\nimport 'antd/dist/antd.css'\nimport LayoutPage from './components/LayoutPage';\n\n\nfunction App() {\n  return (\n    <div>\n      <LayoutPage page={\"main\"} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n\n"],"sourceRoot":""}